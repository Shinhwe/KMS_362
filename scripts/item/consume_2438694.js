importPackage(java.lang);
importPackage(Packages.server);

var MaleItemList = [1000299, 1000298, 1000422, 1000305, 1000306, 1000308, 1000314, 1000318, 1000557, 1000559, 1000562, 1000654, 1000330, 1000680, 1000681, 1000333, 1000337, 1000648, 1000340, 1000341, 1000346, 1000530, 1000569, 1000361, 1000363, 1000365, 1000506, 1000624, 1000670, 1000675, 1000428, 1000432, 1000439, 1000475, 1000575, 1000632, 1000599, 1000451, 1000455, 1000458, 1000485, 1000556, 1000635, 1000472, 1000473, 1000582, 1000661, 1000667, 1000566, 1000476, 1000693, 1000697, 1000687, 1000691, 1000478, 1000712, 1000716, 1000483, 1000496, 1000498, 1000508, 1000514, 1000520, 1000604, 1000549, 1000565, 1000571, 1000587, 1000598, 1000605, 1000613, 1000617, 1000721, 1000700, 1000705, 1000629, 1000640, 1000642, 1000645, 1000706, 1000710, 1000726, 1000453, 1000488, 1000546, 1000424, 1000300, 1000302, 1000307, 1000311, 1000315, 1000319, 1000558, 1000652, 1000656, 1000323, 1000331, 1000677, 1000682, 1000334, 1000338, 1000649, 1000343, 1000344, 1000350, 1000353, 1000356, 1000358, 1000362, 1000364, 1000592, 1000671, 1000674, 1000426, 1000429, 1000433, 1000436, 1000437, 1000515, 1000573, 1000443, 1000447, 1000452, 1000456, 1000459, 1000553, 1000591, 1000637, 1000469, 1000474, 1000583, 1000658, 1000662, 1000665, 1000567, 1000477, 1000694, 1000698, 1000688, 1000479, 1000713, 1000717, 1000489, 1000494, 1000499, 1000509, 1000512, 1000519, 1000534, 1000577, 1000564, 1000586, 1000588, 1000597, 1000606, 1000614, 1000633, 1000722, 1000701, 1000704, 1000628, 1000630, 1000641, 1000709, 1000724, 1000462, 1000495, 1000521, 1000537, 1000550, 1000425, 1000421, 1000304, 1000310, 1000313, 1000317, 1000321, 1000561, 1000653, 1000657, 1000322, 1000329, 1000679, 1000684, 1000332, 1000336, 1000576, 1000646, 1000611, 1000347, 1000348, 1000355, 1000529, 1000568, 1000360, 1000505, 1000623, 1000668, 1000673, 1000427, 1000431, 1000435, 1000440, 1000442, 1000445, 1000517, 1000631, 1000448, 1000454, 1000461, 1000464, 1000555, 1000634, 1000471, 1000580, 1000581, 1000584, 1000660, 1000664, 1000666, 1000692, 1000696, 1000685, 1000689, 1000711, 1000715, 1000482, 1000503, 1000493, 1000500, 1000511, 1000518, 1000536, 1000563, 1000572, 1000585, 1000590, 1000596, 1000602, 1000610, 1000612, 1000616, 1000720, 1000699, 1000703, 1000627, 1000638, 1000644, 1000707, 1000726, 1000326, 1000481, 1000531, 1000540, 1000621, 1000423, 1000301, 1000303, 1000309, 1000312, 1000316, 1000320, 1000560, 1000651, 1000655, 1000324, 1000328, 1000678, 1000683, 1000335, 1000339, 1000647, 1000650, 1000342, 1000345, 1000349, 1000354, 1000357, 1000359, 1000504, 1000507, 1000625, 1000669, 1000672, 1000676, 1000430, 1000434, 1000438, 1000441, 1000516, 1000574, 1000444, 1000446, 1000457, 1000501, 1000460, 1000463, 1000554, 1000600, 1000636, 1000470, 1000579, 1000659, 1000663, 1000593, 1000608, 1000695, 1000607, 1000686, 1000690, 1000480, 1000714, 1000718, 1000502, 1000497, 1000510, 1000513, 1000535, 1000603, 1000578, 1000570, 1000589, 1000595, 1000601, 1000609, 1000615, 1000719, 1000723, 1000622, 1000702, 1000626, 1000639, 1000643, 1000708, 1000725, 1000465, 1000526, 1000539, 1000545, 1000594, 1052715, 1050924, 1052720, 1050919, 1050860, 1050989, 1050993, 1050894, 1058034, 1058038, 1050826, 1050935, 1050940, 1050996, 1050834, 1050835, 1050837, 1050930, 1050843, 1050857, 1050854, 1058043, 1058046, 1058050, 1058022, 1058027, 1058053, 1058057, 1050870, 1050871, 1050877, 1050918, 1050883, 1050963, 1050884, 1050888, 1058012, 1058028, 1058032, 1050896, 1050899, 1050908, 1050922, 1050945, 1050948, 1050954, 1050955, 1050967, 1050970, 1050977, 1050978, 1050983, 1050987, 1050999, 1058004, 1058015, 1058019, 1058059, 1058063, 1058067, 1058071, 1058075, 1050832, 1050882, 1050906, 1052716, 1050852, 1050831, 1050838, 1050861, 1050990, 1050995, 1050805, 1058037, 1058041, 1050936, 1050939, 1050941, 1050909, 1050997, 1050836, 1050887, 1050931, 1050842, 1050849, 1050855, 1058045, 1058047, 1050856, 1058025, 1050865, 1058054, 1050868, 1050872, 1050875, 1050879, 1050881, 1050960, 1050965, 1050886, 1058007, 1058013, 1058029, 1058033, 1050897, 1050900, 1050902, 1050911, 1050917, 1050946, 1050950, 1050956, 1050966, 1050971, 1050974, 1050980, 1050984, 1050988, 1058000, 1058006, 1058016, 1058021, 1058061, 1058064, 1058068, 1058072, 1058076, 1050800, 1050840, 1050889, 1050912, 1050803, 1050925, 1050914, 1050920, 1050862, 1050991, 1050994, 1050802, 1058035, 1058039, 1050827, 1050937, 1050830, 1050833, 1050904, 1050846, 1050927, 1050932, 1050844, 1050858, 1050863, 1050867, 1058044, 1058049, 1058024, 1050866, 1058052, 1058055, 1050869, 1050943, 1050876, 1058058, 1050959, 1050964, 1050913, 1058008, 1058010, 1050890, 1058030, 1050892, 1050989, 1050901, 1050907, 1050923, 1050944, 1050949, 1050953, 1050957, 1050969, 1050973, 1050976, 1050979, 1050981, 1050985, 1058003, 1058005, 1058017, 1058020, 1058060, 1058065, 1058069, 1058073, 1050802, 1050848, 1050895, 1050850, 1050851, 1050915, 1052722, 1050859, 1050801, 1050992, 1050821, 1058036, 1058040, 1050828, 1050934, 1050938, 1050841, 1050998, 1050864, 1050928, 1050929, 1050933, 1050845, 1050853, 1058042, 1058045, 1058048, 1058023, 1058026, 1058051, 1058056, 1050942, 1050874, 1050878, 1050880, 1050961, 1050962, 1050885, 1058009, 1058011, 1050891, 1058031, 1050893, 1050910, 1050903, 1050921, 1050916, 1050947, 1050951, 1050952, 1050958, 1050968, 1050972, 1050975, 1050982, 1050986, 1058001, 1058002, 1058014, 1058018, 1058062, 1058066, 1058070, 1058074, 1050829, 1050873, 1050905, 1050926, 1704500, 1704510, 1704501, 1704505, 1704511, 1704516, 1704526, 1704529, 1704533, 1704537, 1704504, 1704508, 1704521, 1704503, 1704512, 1704517, 1704523, 1704530, 1704534, 1704538, 1704506, 1704509, 1704520, 1704502, 1704513, 1704518, 1704524, 1704527, 1704535, 1704539, 1704507, 1704519, 1704522, 1704514, 1704515, 1704525, 1704528, 1704531, 1704532, 1704536, 1704540, 1102113, 1102114, 1102115, 1102116, 1102117, 1102118, 1102119, 1102120, 1102121, 1102122, 1102123, 1102124, 1102125, 1102126, 1102127, 1102128, 1102129, 1073303, 1073317, 1073318, 1075000, 1075001, 1075002, 1075003, 1012378, 1012900, 1012901, 1012902, 1012380, 1012381, 1012382];

var FemaleItemList = [1001299, 1001298, 1001422, 1001305, 1001306, 1001308, 1001314, 1001318, 1001557, 1001559, 1001562, 1001654, 1001330, 1001680, 1001681, 1001333, 1001337, 1001648, 1001340, 1001341, 1001346, 1001530, 1001569, 1001361, 1001363, 1001365, 1001506, 1001624, 1001670, 1001675, 1001428, 1001432, 1001439, 1001475, 1001575, 1001632, 1001599, 1001451, 1001455, 1001458, 1001485, 1001556, 1001635, 1001472, 1001473, 1001582, 1001661, 1001667, 1001566, 1001476, 1001693, 1001697, 1001687, 1001691, 1001478, 1001712, 1001716, 1001483, 1001496, 1001498, 1001508, 1001514, 1001520, 1001604, 1001549, 1001565, 1001571, 1001587, 1001598, 1001605, 1001613, 1001617, 1001721, 1001700, 1001705, 1001629, 1001640, 1001642, 1001645, 1001706, 1001710, 1001726, 1001453, 1001488, 1001546, 1001424, 1001300, 1001302, 1001307, 1001311, 1001315, 1001319, 1001558, 1001652, 1001656, 1001323, 1001331, 1001677, 1001682, 1001334, 1001338, 1001649, 1001343, 1001344, 1001350, 1001353, 1001356, 1001358, 1001362, 1001364, 1001592, 1001671, 1001674, 1001426, 1001429, 1001433, 1001436, 1001437, 1001515, 1001573, 1001443, 1001447, 1001452, 1001456, 1001459, 1001553, 1001591, 1001637, 1001469, 1001474, 1001583, 1001658, 1001662, 1001665, 1001567, 1001477, 1001694, 1001698, 1001688, 1001479, 1001713, 1001717, 1001489, 1001494, 1001499, 1001509, 1001512, 1001519, 1001534, 1001577, 1001564, 1001586, 1001588, 1001597, 1001606, 1001614, 1001633, 1001722, 1001701, 1001704, 1001628, 1001630, 1001641, 1001709, 1001724, 1001462, 1001495, 1001521, 1001537, 1001550, 1001423, 1001301, 1001303, 1001309, 1001312, 1001316, 1001320, 1001560, 1001651, 1001655, 1001324, 1001328, 1001678, 1001683, 1001335, 1001339, 1001647, 1001650, 1001342, 1001345, 1001349, 1001354, 1001357, 1001359, 1001504, 1001507, 1001625, 1001669, 1001672, 1001676, 1001430, 1001434, 1001438, 1001441, 1001516, 1001574, 1001444, 1001446, 1001457, 1001501, 1001460, 1001463, 1001554, 1001600, 1001636, 1001470, 1001579, 1001659, 1001663, 1001593, 1001608, 1001695, 1001607, 1001686, 1001690, 1001480, 1001714, 1001718, 1001502, 1001497, 1001510, 1001513, 1001535, 1001603, 1001578, 1001570, 1001589, 1001595, 1001601, 1001609, 1001615, 1001719, 1001723, 1001622, 1001702, 1001626, 1001639, 1001643, 1001708, 1001725, 1001465, 1001526, 1001539, 1001545, 1001594, 1001425, 1001421, 1001304, 1001310, 1001313, 1001317, 1001321, 1001561, 1001653, 1001657, 1001322, 1001329, 1001679, 1001684, 1001332, 1001336, 1001576, 1001646, 1001611, 1001347, 1001348, 1001355, 1001529, 1001568, 1001360, 1001505, 1001623, 1001668, 1001673, 1001427, 1001431, 1001435, 1001440, 1001442, 1001445, 1001517, 1001631, 1001448, 1001454, 1001461, 1001464, 1001555, 1001634, 1001471, 1001580, 1001581, 1001584, 1001660, 1001664, 1001666, 1001692, 1001696, 1001685, 1001689, 1001711, 1001715, 1001482, 1001503, 1001493, 1001500, 1001511, 1001518, 1001536, 1001563, 1001572, 1001585, 1001590, 1001596, 1001602, 1001610, 1001612, 1001616, 1001720, 1001699, 1001703, 1001627, 1001638, 1001644, 1001707, 1001726, 1001326, 1001481, 1001531, 1001540, 1001621, 1051855, 1051857, 1051847, 1051848, 1051937, 1051870, 1052730, 1051800, 1051801, 1056026, 1051821, 1056113, 1056117, 1051860, 1051809, 1051901, 1051962, 1051815, 1056070, 1056073, 1051820, 1051898, 1056088, 1051822, 1051823, 1051964, 1051968, 1051830, 1056032, 1051841, 1051865, 1056106, 1056107, 1056102, 1051868, 1051861, 1051990, 1051877, 1056076, 1056083, 1056057, 1051879, 1051883, 1051886, 1051888, 1051893, 1051994, 1051997, 1051913, 1056042, 1056047, 1056063, 1056064, 1051907, 1051929, 1051918, 1051921, 1051972, 1051973, 1051944, 1051949, 1051956, 1051983, 1051985, 1056001, 1056007, 1056009, 1056012, 1056018, 1056022, 1056033, 1056039, 1056048, 1056053, 1056094, 1056099, 1056120, 1051811, 1051840, 1051903, 1051925, 1051825, 1051947, 1052717, 1052719, 1051942, 1051817, 1051869, 1052729, 1056025, 1056029, 1051803, 1051805, 1056116, 1051808, 1051814, 1051958, 1051963, 1056069, 1056071, 1051819, 1051876, 1056087, 1056091, 1056111, 1051824, 1051828, 1051965, 1051971, 1056030, 1051850, 1056105, 1056108, 1056101, 1051976, 1051867, 1051873, 1051988, 1051992, 1051863, 1056079, 1056082, 1051866, 1056060, 1051882, 1051885, 1051890, 1051993, 1051999, 1051896, 1051899, 1056041, 1056046, 1056062, 1056067, 1051912, 1051917, 1051920, 1051927, 1051932, 1051943, 1051938, 1051950, 1051954, 1051980, 1051981, 1056002, 1056005, 1056010, 1056014, 1056017, 1056021, 1056034, 1056038, 1056049, 1056054, 1056097, 1056098, 1056123, 1051837, 1051897, 1051924, 1056112, 1052714, 1051856, 1051832, 1051833, 1051936, 1051844, 1051871, 1052723, 1056024, 1056028, 1051804, 1056115, 1056119, 1051807, 1051813, 1051957, 1051960, 1056072, 1056075, 1051818, 1051875, 1056086, 1056090, 1056110, 1051827, 1051966, 1051969, 1051878, 1051839, 1051874, 1051864, 1056104, 1056100, 1051853, 1051858, 1051987, 1051991, 1056078, 1056081, 1056084, 1056056, 1056058, 1051880, 1051884, 1056092, 1051891, 1051892, 1051996, 1051895, 1051902, 1056043, 1051905, 1056066, 1051906, 1051911, 1051916, 1051922, 1051930, 1051974, 1051933, 1051939, 1051953, 1051955, 1051979, 1051984, 1056000, 1056004, 1056011, 1056016, 1056020, 1056035, 1056037, 1056051, 1056052, 1056093, 1056096, 1056122, 1051836, 1051862, 1051914, 1051948, 1052713, 1051946, 1052718, 1051834, 1051941, 1052721, 1051872, 1051835, 1056023, 1056027, 1051908, 1056114, 1056118, 1051806, 1051810, 1051812, 1051959, 1051961, 1056068, 1056074, 1051843, 1056085, 1056089, 1056019, 1051826, 1051967, 1051970, 1051831, 1056031, 1051842, 1051851, 1056103, 1051852, 1051977, 1051854, 1051859, 1051986, 1051989, 1056077, 1056080, 1056059, 1056061, 1051881, 1051940, 1051889, 1051894, 1051995, 1051998, 1051935, 1051900, 1056044, 1056045, 1051904, 1056065, 1051910, 1051915, 1051919, 1051926, 1051931, 1051975, 1051945, 1051951, 1051952, 1051978, 1051982, 1056003, 1056006, 1056008, 1056013, 1056015, 1056019, 1056036, 1056040, 1056050, 1056055, 1056095, 1056121, 1051829, 1051846, 1051909, 1051934, 1704500, 1704510, 1704501, 1704505, 1704511, 1704516, 1704526, 1704529, 1704533, 1704537, 1704504, 1704508, 1704521, 1704503, 1704512, 1704517, 1704523, 1704530, 1704534, 1704538, 1704506, 1704509, 1704520, 1704502, 1704513, 1704518, 1704524, 1704527, 1704535, 1704539, 1704507, 1704519, 1704522, 1704514, 1704515, 1704525, 1704528, 1704531, 1704532, 1704536, 1704540, 1102113, 1102114, 1102115, 1102116, 1102117, 1102118, 1102119, 1102120, 1102121, 1102122, 1102123, 1102124, 1102125, 1102126, 1102127, 1102128, 1102129, 1073303, 1073317, 1073318, 1075000, 1075001, 1075002, 1075003, 1012378, 1012900, 1012901, 1012902, 1012380, 1012381, 1012382];

var enter = "\r\n";

var need = 2438694, item;

var selected, seld = -1;
var finallist;

function start() {
	status = -1;
	action(1, 0, 0);
}

function action(mode, type, sel) {
	if (mode == 1) {
		status++;
	} else {
		cm.dispose();
		return;
    	}
	if (status == 0) {
		var msg = "안녕? 난 빅 헤드국의 둘째왕자 빅 헤드거라고 해."+enter;
		msg += "#r#i"+need +"##z"+need +"##k를 가지고 있다면 내가 최신 스타일의 캐시 아이템 1종을 바꿔줄게. 운이 좋다면 #r어메이징한 옵션#k이 붙어있는 캐시 의상 아이템도 받을 수가 있지! 어때 지금 바로 쿠폰을 사용할거야?#b"+enter;
		msg += "#L1#아이템 리스트보기 (남)"+enter;
		msg += "#L2#아이템 리스트보기 (여)"+enter+enter;
		msg += "#L3#아이템 사용 (랜덤)";
		cm.sendSimple(msg);
	} else if (status == 1) {
		seld = sel;
		if (sel == 1 || sel == 2) {
			var msg = "역대 스페셜라벨 상자에선 다음과 같은 아이템들이 등장한다구!#b"+enter;
			finallist = sel == 1 ? MaleItemList : FemaleItemList;
			for (i = 0; i < finallist.length; i++)
				msg += "#i"+finallist[i]+"##z"+finallist[i]+"#"+enter;

			cm.sendOk(msg);
			cm.dispose();
		} else {
			if (!cm.haveItem(need, 1)) {
				cm.sendOk("#b#i"+need+"##z"+need+"##k가 없는 것 같은데요?");
				cm.dispose();
				return;
			}
			var msg = "어떤 성별의 의상을 보겠어?#fs14##b"+enter;
			msg += "#L1#남성"+enter;
			msg += "#L2#여성"+enter;

			cm.sendSimple(msg);
		}
	} else if (status == 2) {
			if (!cm.haveItem(need, 1)) {
				cm.sendOk("#b#i"+need+"##z"+need+"##k가 없는 것 같은데요?");
				cm.dispose();
				return;
			}
			finallist = sel == 1 ? MaleItemList : FemaleItemList;
			cm.sendYesNo("정말 #b#i"+need+"##z"+need+"##k 아이템을 사용하겠어?");
	} else if (status == 3) {
			if (!cm.haveItem(need, 1)) {
				cm.sendOk("#b#i"+need+"##z"+need+"##k가 없는 것 같은데요?");
				cm.dispose();
				return;
			}

			item = finallist[Packages.server.Randomizer.rand(0, finallist.length)];

			if (!cm.canHold(item)) {
				cm.sendOk("장비창에 공간이 부족합니다.");
				cm.dispose();
				return;
			}
			cm.gainItem(item, 1);
			cm.gainItem(need, -1);
			var msg = "어때? #r#i"+item+"##z"+item+"##k아이템은 잘 받았어? 정말 어메이징하지 않아? 다음번에 또 #b역대 스페셜라벨 박스#k가 생기면 나를 찾아와줘!";
			cm.sendOk(msg);
			cm.dispose();
	}
}
